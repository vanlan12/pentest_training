# Read Book: The Web Application Hacker’s Handbook

> Người thực hiện: Lưu Văn Lân

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------

# Web Application (In)security	

- Những ngày đầu thì Word Wide Web chỉ gồm các website. Thực chất là các kho thông tin chứa tài liệu tĩnh. 
![text](http://i.imgur.com/uof1nT0.png)

- Các kho trình duyệt web được phát minh như một phương tiện để truy xuất và hiển thị lượng thông tin được lưu trữ ở đây.

- Hầu hết các trang web không xác thực người dùng. Do đó bất kỳ mối đe dọa an ninh nào phát sinh từ host một trang web có liên quan nhiều đến lỗ hổng trong phần mềm máy chủ web.

- Nếu một kẻ tấn công tấn công vào máy chủ web, anh ta thường không thể truy cập vào các thông tin nhạy cảm nào bởi vì các thông tin đó đều được máy chủ cho xem ở chế độ public. Thay vào đó thì kẻ tấn công thường sửa các tập tin trên máy chủ để làm mất đi nội dung trên máy chủ hoặc sử dụng server's stogare và băng thông để phân phối "warez".

### [Tìm hiểu về warez](https://tinhte.vn/threads/warez-la-gi.2597860/)

- Còn hiện nay thì Word Wide Web có nhiều tính năng hơn. Chúng dựa vào 2 luồn thông tin từ server và trình duyệt .
![text](http://i.imgur.com/cprdBLz.png)

- Do ngày càng phát triển thì các các Web lại mang tới nhiều mối đe dọa bảo mật hơn.

- Một số chức năng nổi trội của Web hiện nay:
	+ Shopping(Amazon)
	+ Mạng xã hội(Face)
	+ Banking(Vietcombank)
	+ Websearch(Google)
	+ Đấu giá(Ebay)
	+ Cờ bạc(Betfair)
	+ Web logs(Bloger)
	+ Web mail(gmail)
	+ Tương tác thông tin(Wiki)

- HTTP giao thức truyền thông cốt lõi của Word Wide Web. Cung cấp khả năng phục hồi cao để giũ một kết nối mạng tới mọi người dùng. HTTP cũng có thể proxy và tunneled đến các giao thức khác , cho phép truyền thông an toàn hơn.

### Tài liệu: [proxy](https://vi.wikipedia.org/wiki/M%C3%A1y_ch%E1%BB%A7_proxy), [tunneled](https://en.wikipedia.org/wiki/Tunneling_protocol)	

## Các lỗ hổng ở các ứng dụng web thống kê từ 2007-2011:
- **Broken authentication** (62%) : Tấn công vào cơ chế đăng nhập của ứng dụng. Bằng cách đó khai khác thông qua các mật khẩu yếu, khởi động cách tấn công brute-force hoặc bypass the login

- **Broken access controls**(71%): Các ứng dụng thất bại trong việc bảo vệ truy cập vào các dữ liệu và các chức năng. Điều này tạo điều kiện cho kẻ tấn công có thể xem được các dữ liệu nhạy cảm của người dùng  trên máy chủ hoặc có thể thực hiện các hành động đặc quyền khác

- **SQL injection**(32%): Lỗ hổng này cho phép kẻ tấn công bằng cách thực hiện các thao tác truy nhập đơn giản gây các tác động lên các ứng dụng và cơ sở dữ liệu của nó. Kẻ tấn công có thể Lấy dữ liệu từ các tầng ứng dụng, Can thiệp và thực hiện các lệnh trên cơ sở dữ liệu của chính nó

- **Cross-site scipting**(94%): Lỗ hổng này cho phép kẻ tấn công hướng tới mục tiêu là các người dùng khác của ứng dụng, có khả năng tiếp cận được với dữ liệu của chúng. Thay mặc người dùng đó thực hiện các hành động trái phép hoặc thực hiện các cuộc tấn công khác chống lại họ

- **Information leakage**(78%):  Trường hợp này thì là các ứng dụng tiết lộ các thông tin nhạy cảm hiện đang sử dụng cho kẻ tấn công trong việc phát triển tấn công các ứng dụng, thông qua việc xử lí lỗi có lỗi hoặc hành vi khác

- **Cross-stie request forgery**(92%) :
![text](http://i.imgur.com/bIshifN.png)
	
>SSL là công nghệ tốt nhưng mặc dù vậy các ứng dụng web vẫn tồn tại rất nhiều lỗi hông web

## Vấn đề cốt lõi của bảo mật: Người dùng có thể nhập input tùy ý

- Vấn đè này được thể hiện qua các cách:
	+ Người dùng có thể can thiệp vào bất cứ dữ liệu chuyển tiếp giữa client và server, bao gồm các thông số truy vấn,cookies, và HTTP headers.Bất cứ sự kiểm soát bảo mật nào ở phía bên client, việc kiểm tra đầu vào, hoàn toàn có thể bị phá vỡ
	+ Người dùng có thể gửi truy vấn trong bất kỳ trình tự nào và có thể gửi các thông số tại một giai đoạn khác so với ứng dụng dự kiến, nhiều hơn một lần hoặc không phải tất cả.
	+ Người dùng không bị giới hạn việc chỉ sử dụng một trình duyệt web để truy cập các ứng dụng. Và có thể sử dụng tự do các công cụ tồn tại và trong đó có thể có các trình duyệt tấn công tới trình duyệt web

- Một số ví dụ về việc tự do nhập truy vấn sẽ đem tới các lỗi:
	+ Thay đổi giá của một sản phẩm được truyền đi trong một trường form HTML ẩn để gian lận về giá cả
	+ THay đổi một phiên vận chuyển trong một cookie HTTP để hack phiên chứng thực của người dùng
	+ Xóa đi một thông số nhất định nào đố để khai thác một lỗ hổng nào trong quá trình xử lí của ứng dụng
	+ THay đổi một số truy vấn đầu vào để truy cập vào back-end của cơ sở dữ liệu và khai thác các mục tiêu trong đó

## Core Defense Mechanisms
- Các cơ cấu bảo vệ ứng dụng gồm các cốt lõi như sau:
	+ Xử lí người dùng truy cập vào dữ liệu và chức năng của ứng dụng để ngăn chặn người dùng thực hiện các truy cập trái phép
	+ Xử lí đầu vào của người dùng ảnh hưỏng tới chức năng của ứng dụng để ngăn chặn các đầu vào sai phạm
	+ Xử lí kẻ tấn công để đảm bảo ứng dụng hoạt động thích hợp. Khi trở thành mục tiêu bị tấn công, thực hiện các biện pháp phòng thủ hợp lý
	+ Tự quản lý ứng dụng của mình bằng cách cho phép quản trị viên quản trị các hoạt động và thiết lập các chức năng

## Xử lí truy cập người dùng
------------------------------------------------------------------------------------------------------
- Hầu hết các ứng dụng web xử lí truy cập bằng cách sử dụng các cơ chế bảo mật:
	+ Athentication : Định danh
	+ Session management : QUản lí phiên
	+ Access control : Kiểm soát truy cập



